import{_ as l,c as d,o as n,e as o,k as f,d as p,f as i,l as a,t as w,i as u}from"./app-CprNzg69.js";const g={name:"ForgotPassword",data(){return{form:{email:"",password:"",passwordConfirm:""},msg:""}},methods:{resetPassword(){this.form.password===this.form.passwordConfirm&&u.post("/api/resetpassword",{email:this.form.email,password:this.form.password}).then(t=>{t.data.success===!0?(toastr.success(t.data.message),setTimeout(function(){window.location.href="/login"},2*1e3)):(toastr.error(t.data.message),this.form.email="",this.form.password="",this.form.passwordConfirm="")}).catch(t=>{t.response&&t.response.status==422?this.msg="メールアドレスまたはパスワードが入力されていません":this.msg=response.data.message})}}},c={class:"main"},v={class:"col-12"},b={class:"login-form"},h={class:"form-group"},C={class:"form-group"},_={class:"form-group"},x={key:0};function y(t,s,P,V,r,m){return n(),d("div",c,[o("div",v,[o("div",b,[o("form",{onSubmit:s[3]||(s[3]=f((...e)=>m.resetPassword&&m.resetPassword(...e),["prevent"]))},[o("div",h,[s[4]||(s[4]=o("label",{for:"email"},"メールアドレス",-1)),i(o("input",{type:"text",id:"email",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>r.form.email=e)},null,512),[[a,r.form.email]])]),o("div",C,[s[5]||(s[5]=o("label",{for:"password"},"新パスワード",-1)),i(o("input",{type:"password",id:"password",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=e=>r.form.password=e)},null,512),[[a,r.form.password]])]),o("div",_,[s[6]||(s[6]=o("label",{for:"password-confirm"},"確認用パスワード",-1)),i(o("input",{type:"password",id:"passwordConfirm",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=e=>r.form.passwordConfirm=e)},null,512),[[a,r.form.passwordConfirm]])]),r.msg?(n(),d("p",x,w(r.msg),1)):p("",!0),s[7]||(s[7]=o("div",{class:"row"},[o("button",{type:"submit",class:"btn btn-info mt-2"},"パスワード再設定")],-1))],32)])])])}const B=l(g,[["render",y]]);export{B as default};
