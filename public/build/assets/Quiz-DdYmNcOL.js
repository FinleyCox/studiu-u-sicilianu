import{_ as p,c as n,o as r,e,f as m,g as u,v as q,t as l,F as d,h as a,n as f,d as h,i as v}from"./app-CprNzg69.js";const _={name:"Quiz",data(){return{sicilian:"",options:[],answer:"",result:null,selectedOption:null,questionCount:0,questionTimes:5,correct:0,incorrect:0,incorrectWords:[]}},mounted(){this.fetchQuiz()},methods:{fetchQuiz(){v.get("/api/quiz").then(i=>{this.sicilian=i.data.sicilian,this.options=i.data.options,this.answer=i.data.answer}).catch(i=>{console.error("APIエラー:",i)})},checkAnswer(i){this.selectedOption=i,i===this.answer?(this.result="Raggiuni hai!",this.correct++):(this.result="Scurrettu!",this.incorrectWords.push([this.sicilian,this.answer]),this.incorrect++),this.disableOptions()},disableOptions(){const i=document.querySelectorAll(".option");i.forEach(t=>{t.disabled=!0}),this.questionCount<this.questionTimes&&this.nextQuestion(),i.forEach(t=>{t.disabled=!1})},nextQuestion(){setTimeout(()=>{this.fetchQuiz()},"1000"),this.questionCount++},tryAgain(){this.questionCount=0,this.correct=0,this.incorrect=0,this.incorrectWords=[],this.fetchQuiz()}}},b={key:0,class:"quiz-container",id:"quiz"},k={class:"quiz-header"},y={class:"options"},z={id:"question-container"},g={class:"question",id:"question"},C={class:"options"},w=["onClick"],Q={key:1},T={key:0},x={key:1};function A(i,t,W,O,s,c){return s.questionCount<s.questionTimes?(r(),n("div",b,[e("div",k,[t[3]||(t[3]=e("h2",null,"word quiz",-1)),e("div",y,[m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.questionTimes=o),class:"form-select form-select-lg mb-3 select","aria-label":".form-select-lg"},t[2]||(t[2]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"15"},"15",-1),e("option",{value:"20"},"20",-1)]),512),[[q,s.questionTimes]]),u(" 出題数: "+l(s.questionCount)+" / "+l(s.questionTimes),1)])]),e("div",z,[e("p",g,l(s.sicilian),1),e("div",C,[(r(!0),n(d,null,a(s.options,o=>(r(),n("button",{key:o,class:f(["option","btn","btn-outline-secondary",s.selectedOption===o?o===s.answer?"correct":"incorrect":""]),onClick:S=>c.checkAnswer(o)},l(o),11,w))),128))])])])):(r(),n("div",Q,[t[6]||(t[6]=e("h2",null,"終了",-1)),this.correct!==null||this.incorrect!==null?(r(),n("p",T,[t[4]||(t[4]=u(" 結果")),t[5]||(t[5]=e("br",null,null,-1)),u(" 正解："+l(this.correct)+" 不正解："+l(this.incorrect),1)])):h("",!0),t[7]||(t[7]=e("p",null," 間違えた言葉 ",-1)),s.incorrectWords.length>0?(r(),n("ul",x,[(r(!0),n(d,null,a(s.incorrectWords,o=>(r(),n("li",{key:s.incorrectWords},l(o[0])+":"+l(o[1]),1))),128))])):h("",!0),e("button",{type:"button",onClick:t[1]||(t[1]=o=>c.tryAgain())},"もう一度挑戦する")]))}const B=p(_,[["render",A],["__scopeId","data-v-bb76f643"]]);export{B as default};
